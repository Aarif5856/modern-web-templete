!function(){const e=(e,t=document)=>t.querySelector(e),t=(e,t=document)=>Array.from(t.querySelectorAll(e));window.trackEvent=function(e,t){console.log("Event:",e,t||{})};const n="mw:theme",o="mw:color";function a(t){document.documentElement.setAttribute("data-theme",t),document.documentElement.classList.toggle("dark","dark"===t);[e("#theme-toggle i"),e("#theme-toggle-mobile i")].filter(Boolean).forEach(e=>{e.classList.remove("fa-moon","fa-sun"),e.classList.add("dark"===t?"fa-sun":"fa-moon")})}function i(t){document.documentElement.setAttribute("data-color",t);[e("#color-preset"),e("#color-preset-mobile")].filter(Boolean).forEach(e=>{e&&(e.value=t)})}function r(e,t,n){const o=document.createElement(e);return t&&(o.className=t),void 0!==n&&(o.innerHTML=n),o}function s(n){document.title=`${n.brand} — ${n.tagline}`,["#brand-name","#brand-name-footer","#brand-name-copy"].forEach(t=>{const o=e(t);o&&(o.textContent=n.brand)}),e("#hero-title")&&(e("#hero-title").innerHTML=`${n.tagline.replace("Amazing",'<span class="gradient-text">Amazing</span>')}`),e("#hero-description")&&(e("#hero-description").textContent=n.description),e("#year")&&(e("#year").textContent=(new Date).getFullYear());const o=e("#features-grid");o&&(o.innerHTML="",(n.features||[]).forEach(e=>{const t=r("div","feature-card");var n;t.innerHTML=`\n          <div class="flex items-start gap-3">\n            <div class="w-10 h-10 rounded-xl gradient-bg flex items-center justify-center text-white text-lg">\n              <i class="${n=e.icon||"fa-circle-dot",`fa-solid ${n.replace(/^fa[srl]-/,"fa-")}`}"></i>\n            </div>\n            <div>\n              <h3 class="font-semibold text-lg mb-1">${e.title}</h3>\n              <p class="text-sm text-muted">${e.text}</p>\n            </div>\n          </div>`,o.appendChild(t)}));const a=e("#pricing-grid");a&&(a.innerHTML="",(n.pricing||[]).forEach(e=>{const t=r("div","pricing-card relative");t.innerHTML=`\n          ${e.popular?'<span class="badge-popular">Most Popular</span>':""}\n          <div class="text-center">\n            <h3 class="text-2xl font-bold mb-2">${e.plan}</h3>\n            <div class="mb-5"><span class="text-4xl font-extrabold">$${e.price}</span><span class="text-muted">/month</span></div>\n            <ul class="text-left space-y-2 mb-6">\n              ${(e.features||[]).map(e=>`<li class="flex items-center"><i class="fa-solid fa-check text-green-500 mr-2"></i><span>${e}</span></li>`).join("")}\n            </ul>\n            <button class="btn-primary gradient-bg w-full">Choose ${e.plan}</button>\n          </div>`,a.appendChild(t)}));const i=e("#testimonials-grid");i&&(i.innerHTML="",(n.testimonials||[]).forEach(e=>{const t=e.name?.split(" ").map(e=>e[0]).join("").slice(0,2)||"U",n=e.avatar?`<img loading="lazy" src="${e.avatar}" alt="${e.name}" class="w-12 h-12 rounded-full object-cover"/>`:`<div class="w-12 h-12 rounded-full gradient-bg flex items-center justify-center text-white font-bold">${t}</div>`,o=r("div","testimonial-card");o.innerHTML=`\n          <div class="flex items-start gap-3">\n            ${n}\n            <div>\n              <div class="font-semibold">${e.name}</div>\n              <div class="text-xs text-muted mb-2">${e.role||""}</div>\n              <div class="text-sm mb-2">“${e.text}”</div>\n              <div class="flex gap-1">${function(e=5){return new Array(5).fill(0).map((t,n)=>`<i class="fa-star ${n<e?"fa-solid text-accent":"fa-regular text-muted"}"></i>`).join("")}(e.rating)}</div>\n            </div>\n          </div>`,i.appendChild(o)})),function(){const e=new IntersectionObserver(e=>{e.forEach(e=>e.isIntersecting&&e.target.classList.add("visible"))},{threshold:.12,rootMargin:"0px 0px -50px 0px"});t(".feature-card, .testimonial-card, .pricing-card").forEach(t=>{t.classList.add("fade-in"),e.observe(t)}),t(".reveal").forEach(t=>{e.observe(t)})}(),function(){const n=e("#testimonials-grid");if(!n)return;let o=0,a=null;function i(){const e=t(".testimonial-card",n);0!==e.length&&(e.forEach((e,t)=>{e.style.opacity=t===o?"1":"0.8",e.style.transform=t===o?"scale(1.02)":"scale(1)"}),o=(o+1)%e.length)}function r(){a||(a=setInterval(i,4500))}n.addEventListener("mouseenter",function(){a&&(clearInterval(a),a=null)}),n.addEventListener("mouseleave",r),r()}()}document.addEventListener("DOMContentLoaded",async()=>{!function(){const t=localStorage.getItem(n)||"light",r=localStorage.getItem(o)||"blue";a(t),i(r),[e("#theme-toggle"),e("#theme-toggle-mobile")].filter(Boolean).forEach(e=>e.addEventListener("click",()=>{const e="dark"===document.documentElement.getAttribute("data-theme")?"light":"dark";a(e),localStorage.setItem(n,e),trackEvent("theme_toggle",{theme:e})})),[e("#color-preset"),e("#color-preset-mobile")].filter(Boolean).forEach(e=>e.addEventListener("change",e=>{i(e.target.value),localStorage.setItem(o,e.target.value),trackEvent("color_preset",{preset:e.target.value})}))}(),function(){const n=e(".mobile-menu-btn"),o=e(".mobile-menu");n&&o&&(n.addEventListener("click",()=>{o.classList.toggle("hidden"),n.querySelector("i")?.classList.toggle("fa-times"),n.querySelector("i")?.classList.toggle("fa-bars")}),t(".mobile-menu a").forEach(e=>e.addEventListener("click",()=>{o.classList.add("hidden"),n.querySelector("i")?.classList.remove("fa-times"),n.querySelector("i")?.classList.add("fa-bars")}))),t('a[href^="#"]').forEach(e=>e.addEventListener("click",t=>{const n=e.getAttribute("href");if(!n||"#"===n)return;const o=document.querySelector(n);if(!o)return;t.preventDefault();const a=o.getBoundingClientRect().top+window.scrollY-72;window.scrollTo({top:a,behavior:"smooth"})}));const a=e(".navbar");window.addEventListener("scroll",()=>{window.scrollY>10?a.classList.add("scrolled"):a.classList.remove("scrolled")});const i=["#home","#features","#pricing","#testimonials","#contact"].map(t=>e(t)).filter(Boolean),r=[...t(".nav-link")],s=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=`#${e.target.id}`;r.forEach(e=>e.classList.toggle("active",e.getAttribute("href")===t))}})},{threshold:.55});i.forEach(e=>s.observe(e))}(),function(){const t=e("#scrollTop");t&&(window.addEventListener("scroll",()=>{window.scrollY>300?t.classList.add("show"):t.classList.remove("show")}),t.addEventListener("click",()=>window.scrollTo({top:0,behavior:"smooth"})))}(),t(".btn-primary, .btn-secondary").forEach(e=>{e.addEventListener("click",t=>{e.querySelector(".ripple")&&e.querySelector(".ripple").remove();const n=document.createElement("span");n.className="ripple";const o=e.getBoundingClientRect();n.style.left=t.clientX-o.left+"px",n.style.top=t.clientY-o.top+"px",e.appendChild(n),trackEvent("cta_click",{text:e.textContent?.trim()})})});try{s(await async function(){if("file:"!==location.protocol)try{const e=await fetch("config.json",{cache:"no-store"});if(e.ok)return await e.json();throw new Error(`HTTP ${e.status}`)}catch(e){console.warn("Failed to fetch config.json, falling back to inline JSON",e)}const t=e("#config-inline");if(t)try{return JSON.parse(t.textContent||"{}")}catch(e){console.warn("Inline config parse error",e)}return{brand:"ModernWeb",tagline:"Build Something Amazing Today",description:"Create stunning websites with our modern, responsive template.",features:[],pricing:[],testimonials:[]}}())}catch(e){console.error("Config load/render error",e),function(e,t="info",n=4e3){const o=document.createElement("div");o.className=`notification notification-${t}`,o.textContent=e,document.body.appendChild(o),requestAnimationFrame(()=>o.classList.add("show")),setTimeout(()=>{o.classList.remove("show"),o.addEventListener("transitionend",()=>o.remove(),{once:!0})},n)}("Failed to load site content. Using defaults.","error")}window.addEventListener("load",()=>document.body.classList.add("loaded"))})}();